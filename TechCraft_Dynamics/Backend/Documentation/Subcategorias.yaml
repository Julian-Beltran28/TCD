# Yaml de subcategorias
openapi: 3.0.0
info: 
  title: API TechCraft Dynamics - Subcategor√≠as
  version: 1.0.0
tags:
  - name: Subcategor√≠as üóÇÔ∏è
    description: Endpoint para gestionar las subcategor√≠as

paths:

# ---------------------------------------------------------------------------------
# Listar subcategorias
  /api/subcategorias:
    get:
      summary: Lista de todas las subcategor√≠as
      tags: [Subcategor√≠as üóÇÔ∏è]

      # Descripcion de los errores
      responses: 
        "200":
          description: Lista de las subcategor√≠as
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  properties:
                    Nombre_Subcategoria:
                      type: string
                      example: Comida chunky para perro
                    Descripcion:
                      type: string
                      example: Se tiene todos los sabores de la comida chunky
                    id_Categorias:
                      type: integer
                      example: 4
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  error:
                    type: string
                    example: Error interno del servidor

# ---------------------------------------------------------------------------------
# Crear una subcategoria nueva
    post: 
      summary: Crear una subcategor√≠a nueva
      tags: [Subcategor√≠as üóÇÔ∏è]
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                Nombre_Subcategoria:
                  type: string
                Descripcion:
                  type: string
                id_Categorias:
                  type: integer

      # Descripcion de los errores
      responses:
        "200":
          description: Subcategor√≠a creada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Nombre_Subcategoria:
                    type: string
                    example: Comida chunky para perro
                  Descripcion:
                    type: string
                    example: Se tiene todos los sabores de la comida chunky
                  id_Categorias:
                    type: integer
                    example: 4
        "400":
          description: Error al crear la subcategor√≠a
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error al crear la subcategoria
        "500":
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error interno del servidor

# Mostramos la subcategor√≠a buscado por su ID
  /api/subcategorias/{id}:
    get:
      summary: Obtiene una unica subcategor√≠a por su ID
      tags: [Subcategor√≠as üóÇÔ∏è]
      parameters:
        - in: path
          name: id
          required: true
          schema: 
            type: integer
          description: Ingrese el ID de la subcategor√≠a exacta para visualizar

      # Descripcion de los errores
      responses:
        "200":
          description: Subcategor√≠a encontrada exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Nombre_Subcategoria:
                    type: string
                    example: Comida chunky para perro
                  Descripcion:
                    type: string
                    example: Se tiene todos los sabores de la comida chunky
                  id_Categorias:
                    type: integer
                    example: 4
        "404":
          description: No se pudo encontrar la subcategor√≠a solicitada
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: No se pudo encontrar la subcategoria solicitada
          "500":
            description: Error del servidor
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    mensaje:
                      type: string
                      example: Error interno del servidor

# ---------------------------------------------------------------------------------
# Actualizamos la subcategoria buscada por su ID
    put:
      summary: Actualizar una subcategor√≠a existente
      tags: [Subcategor√≠as üóÇÔ∏è]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: ID de la subcategoria
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                Nombre_Subcategoria:
                  type: string
                Descripcion:
                  type: string
                id_Categorias:
                  type: integer

      # Descripcion de los errores 
      responses:
        "200":
          description: Subcategoria actualizado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Nombre_Subcategoria:
                    type: string
                    example: Comida chunky para perro
                  Descripcion:
                    type: string
                    example: Se tiene todos los sabores de la comida chunky
                  id_Categorias:
                    type: integer
                    example: 4
        "400":
          description: Error al encontrar el subcategor√≠a
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error al encontrar el subcategoria
        "500":
          description: Error del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error interno del servidor

# ---------------------------------------------------------------------------------
# Eliminar categoria
  /api/subcategorias/delete/{id}:
    delete:
      summary: Eliminar subcategor√≠a existente
      tags: [Subcategor√≠as üóÇÔ∏è]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: Ingrese el ID de la subcategor√≠a que quiere eliminar

      # Descripcion de los errores
      responses:
        "200":
          description: Subcategor√≠a eliminada correctamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Nombre_Subcategoria:
                    type: string
                    example: Comida chunky para perro
                  Descripcion:
                    type: string
                    example: Se tiene todos los sabores de la comida chunky
                  id_Categorias:
                    type: integer
                    example: 4
        "404": 
          description: Subcategor√≠a no encontrada
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Subcategoria no encontrada
          "500":
            description: Error del servidor
            content:
              application/json:
                schema:
                  type: object
                  properties:
                    mensaje:
                      type: string
                      example: Error interno del servidor
    