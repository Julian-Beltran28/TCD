# Yaml de Usuarios 
openapi: 3.0.0
info: 
  title: API TechCraft Dynamics - Usuarios
  version: 1.0.0
tags:
  - name:  Usuarios 游녻
    description: Endpoint para gestionar a los usuarios

paths:

# ---------------------------------------------------------------------------------
# Mostramos la lista de los usuarios
  /api/usuarios:
    get:
      summary: Lista de todos los usuarios
      tags: [Usuarios 游녻]

      # Descripcion de los errores
      responses: 
        "200":
          description: Lista de los usuarios
          content:
            application/json:
              schema:
                type: object
                properties:
                  Primer_Nombre:
                    type: string
                    example: Julian
                  Segundo_Nombre:
                    type: string
                    example: Daniel
                  Primer_Apellido:
                    type: string
                    example: Beltran
                  Segundo_Apellido:
                    type: string
                    example: Bustos
                  Tipo_documento:
                    type: string
                    example: CC
                  Numero_documento:
                    type: string
                    example: 123456789
                  Numero_celular:
                    type: string
                    example: 987654321
                  Correo_personal:
                    type: string
                    example: Julian@personal.com
                  Correo_empresarial:
                    type: string
                    example: Julian@empresa.com
                  id_Rol:
                    type: integer
                    example: 1
        "404":
          description: No hay lista de usuarios
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: No hay lista de usuarios
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error interno del servidor

# ---------------------------------------------------------------------------------
# Creamos a un usuario nuevo
    post: 
      summary: Crear usuario nuevo
      tags: [Usuarios 游녻]
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                Primer_Nombre:
                  type: string
                Segundo_Nombre:
                  type: string
                Primer_Apellido:
                  type: string
                Segundo_Apellido:
                  type: string
                Tipo_documento:
                  type: string
                Numero_documento:
                  type: string
                Numero_celular:
                  type: string
                Correo_personal:
                  type: string
                Correo_empresarial:
                  type: string
                id_Rol:
                  type: integer
                Contrasena: 
                  type: string

      # Descripcion de los errores
      responses:
        "200":
          description: Usuario creado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Primer_Nombre:
                    type: string
                    example: Julian
                  Segundo_Nombre:
                    type: string
                    example: Daniel
                  Primer_Apellido:
                    type: string
                    example: Beltran
                  Segundo_Apellido:
                    type: string
                    example: Bustos
                  Tipo_documento:
                    type: string
                    example: CC
                  Numero_documento:
                    type: string
                    example: 123456789
                  Numero_celular:
                    type: string
                    example: 987654321
                  Correo_personal:
                    type: string
                    example: Julian@personal.com
                  Correo_empresarial:
                    type: string
                    example: Julian@empresa.com
                  id_Rol:
                    type: integer
                    example: 1
                  Contrasena: 
                    type: string
                    example: hola123
        "400":
          description: Error de validaci칩n (datos faltantes o inv치lidos)
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error de validaci칩n (datos faltantes o inv치lidos)
        "404":
          description: Usuario no encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Usuario no encontrado
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error interno del servidor 

# ---------------------------------------------------------------------------------
# Mostramos a un unico usuarios buscandolo por su ID
  /api/usuarios/{id}:
    get: 
      summary: Obtiene un unico usuario por su ID
      tags: [Usuarios 游녻]
      parameters: 
        - in: path
          name: id 
          required: true
          schema: 
            type: integer
          description: Ingrese el ID del usuario exacto para visualizar

      # Descripcion de los errores
      responses:
        "200":
          description: Usuario encontrado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Primer_Nombre:
                    type: string
                    example: Julian
                  Segundo_Nombre:
                    type: string
                    example: Daniel
                  Primer_Apellido:
                    type: string
                    example: Beltran
                  Segundo_Apellido:
                    type: string
                    example: Bustos
                  Tipo_documento:
                    type: string
                    example: CC
                  Numero_documento:
                    type: string
                    example: 123456789
                  Numero_celular:
                    type: string
                    example: 987654321
                  Correo_personal:
                    type: string
                    example: Julian@personal.com
                  Correo_empresarial:
                    type: string
                    example: Julian@empresa.com
                  id_Rol:
                    type: integer
                    example: 1
                  Contrasena: 
                    type: string
                    example: hola123
        "404": 
          description: Usuario no encontrado
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Usuario no encontrado
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error interno del servidor

# ---------------------------------------------------------------------------------
# Actualizamos los datos del usuario buscado por su ID
    put:
      summary: Actualizar un usuario existente 
      tags: [Usuarios 游녻]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: Ingrese el ID del usuario que quiere actualizar
      requestBody:
        required: true
        content:
          multipart/form-data:
            schema:
              type: object
              properties:
                Primer_Nombre:
                  type: string
                Segundo_Nombre:
                  type: string
                Primer_Apellido:
                  type: string
                Segundo_Apellido:
                  type: string
                Tipo_documento:
                  type: string
                Numero_documento:
                  type: string
                Numero_celular:
                  type: string
                Correo_personal:
                  type: string
                Correo_empresarial:
                  type: string
                id_Rol:
                  type: integer
                Contrasena: 
                  type: string
                activo:
                  type: boolean

      # Descripcion de los errores 
      responses:
        "200":
          description: Usuario actualizado exitosamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Primer_Nombre:
                    type: string
                    example: Julian
                  Segundo_Nombre:
                    type: string
                    example: Daniel
                  Primer_Apellido:
                    type: string
                    example: Beltran
                  Segundo_Apellido:
                    type: string
                    example: Bustos
                  Tipo_documento:
                    type: string
                    example: CC
                  Numero_documento:
                    type: string
                    example: 123456789
                  Numero_celular:
                    type: string
                    example: 987654321
                  Correo_personal:
                    type: string
                    example: Julian@personal.com
                  Correo_empresarial:
                    type: string
                    example: Julian@empresa.com
                  id_Rol:
                    type: integer
                    example: 1
                  Contrasena: 
                    type: string
                    example: hola123
        "400":
          description: Error de validaci칩n (datos faltantes o inv치lidos)
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error de validaci칩n (datos faltantes o inv치lidos)
        "404":
          description: Usuario no encontrado 
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Usuario no encontrado
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error interno del servidor

# ---------------------------------------------------------------------------------
# Eliminamos al usuario buscado por su ID
  /api/usuarios/delete/{id}:
    delete:
      summary: Eliminar usuario existente
      tags: [Usuarios 游녻]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
          description: Ingrese el ID del usuario que quiere eliminar

      # Descripcion de los errores
      responses:
        "200":
          description: Usuario eliminado correctamente
          content:
            application/json:
              schema:
                type: object
                properties:
                  Primer_Nombre:
                    type: string
                    example: Julian
                  Segundo_Nombre:
                    type: string
                    example: Daniel
                  Primer_Apellido:
                    type: string
                    example: Beltran
                  Segundo_Apellido:
                    type: string
                    example: Bustos
                  Tipo_documento:
                    type: string
                    example: CC
                  Numero_documento:
                    type: string
                    example: 123456789
                  Numero_celular:
                    type: string
                    example: 987654321
                  Correo_personal:
                    type: string
                    example: Julian@personal.com
                  Correo_empresarial:
                    type: string
                    example: Julian@empresa.com
                  id_Rol:
                    type: integer
                    example: 1
        "404":
          description: Usuario no encontrado 
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Usuario no encontrado
        "500":
          description: Error interno del servidor
          content:
            application/json:
              schema:
                type: object
                properties:
                  mensaje:
                    type: string
                    example: Error interno del servidor
